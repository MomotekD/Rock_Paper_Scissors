<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    
    <div class="main">
        <button onclick="getHumanChoice(this)" value="rock" class="buttons">Rock</button>
        <button onclick="getHumanChoice(this)" value="paper" class="buttons">Paper</button>
        <button onclick="getHumanChoice(this)" value="scissors" class="buttons">Scissors</button>
        <button onclick="playRound(humanChoice, getComputerChoice())">Play Round</button>
    </div>

    <div class="results">

    </div>
    
    <script>
        const results = document.querySelector(".results");
        const resultLabel = document.createElement("p");

        let userScore = 0;
        let computerScore = 0;
        let humanChoice;

        function getComputerChoice(){
            const Choices = ["rock", "paper", "scissors"];
            const ComputerChoice = Math.floor(Math.random() * 3);

            return Choices[ComputerChoice];
        }

        function getHumanChoice(button){
            const Choices = ["rock", "paper", "scissors"];
            humanChoice = button.value.toLowerCase();

            console.log(humanChoice);
            return humanChoice;
        }

        const humanSelection = humanChoice;
        const computerSelection = getComputerChoice();

        function playRound(humanChoice, ComputerChoice) {
            if(userScore === 5 || computerScore === 5){
                if(userScore > computerScore){
                    resultLabel.textContent = "Player wins! with score " + userScore + " to " + computerScore;
                }else{
                    resultLabel.textContent = "Computer wins! with score " + userScore + " to " + computerScore;
                }
                userScore = 0;
                computerScore = 0;
                results.appendChild(resultLabel);
                return
            }

            if (humanChoice == "rock" && ComputerChoice == "paper"){
                computerScore++;
                resultLabel.textContent = "Computer wins! Paper beats rock. Score: Player " + userScore + " Computer " + computerScore;
            }else if(humanChoice == "paper" && ComputerChoice == "scissors"){
                computerScore++;
                resultLabel.textContent = " Computer wins! Scissors beats paper. Score: Player " + userScore + " Computer " + computerScore;
            }else if(humanChoice == "scissors" && ComputerChoice == "rock"){
                computerScore++;
                resultLabel.textContent = " Computer wins! Rock beats scissors. Score: Player " + userScore + " Computer " + computerScore;
            }else if(humanChoice == ComputerChoice){
                resultLabel.textContent = humanChoice + " and " + ComputerChoice + " It's a draw! Score: Player " + userScore + " Computer " + computerScore;
            }else if(humanChoice === null){
                resultLabel.textContent = "Please select rock, paper or scissors."
            }else{
                userScore++;
                resultLabel.textContent = " Human wins! " + humanChoice + " beats " + ComputerChoice + ". Score: Player " + userScore + " Computer " + computerScore;
            }
            results.appendChild(resultLabel);
        }
    </script>
</body>
</html>